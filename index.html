<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Machine à écrire</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" type="text/js" href="ecrit.js">
</head>
<body>
	<div id="console2">
    <pre id="consoleText2"></pre>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
 
<style type="text/css">
    #console { height: 200px; border-radius: 5px; background: #000; margin-bottom: 15px; padding: 15px 15px; }
    #console pre { color: #fff; font-family: 'Monaco', courier, monospace; line-height: 1.5; overflow: hidden; }
    #console pre a { font-weight: bold; color: #fff; text-decoration: underline; }
 
    #console .keyword { color: #ec77b4; }
    #console .string { color: #ff8714; }
    #console .function { color: #96c9ff; }
    #console .variable { color: #ffd67d; }
</style>
 
 
<div id="console">
    <pre id="consoleText">
    </pre>
</div>
 
<script type="text/javascript">
    var text = 'Hey ! Salut comment ça va bien ? Je vais aller fumer une <span style="color:red;">clope !</span> <br/>et me chercher à <span style="color:red;">manger</span>...';
 
    var currentChar = 1;
    var htmltag = false;
    var cache = '';
 
 
    function type()
    {
        var str = text.substr(0, currentChar);
        var last = str.substr(str.length -1, str.length);
        if(last != '<' && last != '>' & last != '/') {
            $("#consoleText").html(str);
        }
        currentChar++;
        if(currentChar <= text.length)
        {
            if(last == '<') {
                htmltag = true;
            } else if(last == '>') {
                htmltag = false;
            }
            if(htmltag) {
                setTimeout(type, 1);
            } else {
                setTimeout(type, 50);
            }
        }
    }
 
    $(document).ready(function() {
        $("#consoleText").html("");
        setTimeout(type, 2000);
    });
 
</script>
</div>
</body>
</html>